webpackJsonp([1],[,,,,,,function(e,t,o){"use strict";var a=o(21),s=o.n(a),i=o(67),n=o.n(i),r=void 0,l=function(){if(!r){var e=JSON.parse(localStorage.getItem("user")),t=e?e.token:"";r=n.a.create({baseURL:"https://luna-admin.herokuapp.com",headers:{Authorization:t?"JWT "+t:""}})}return r},c=function(e){s()(r.defaults,{headers:{Authorization:e?"JWT "+e:""}})},d=function(){return l().get("/api/v1/rooms/")},u=function(){return l().get("/api/v1/modules/")},m=function(){return l().get("/api/v1/associates/")},f=function(e){return l().get("/api/v1/module_types/"+e+"/")},p=function(e){return l().get("/api/v1/modules_pending/"+e+"/")},v=function(e,t){return l().put("/api/v1/modules/"+e+"/",t)},h=function(e,t){return l().put("/api/v1/rooms/"+e+"/",t)},_=function(e,t){return l().put("/api/v1/modules_pending/"+e+"/",t)},b=function(e){return l().post("/api/v1/rooms/",e)},g=function(e){return l().post("/api/v1/associates/",e)},w=function(e){return l().post("/api/v1/users/",e)},M=function(e){return l().post("/api/auth/token/",e).then(function(e){return c(e.data.token||""),e})},$=function(e){return l().get("/api/v1/profile/"+e)},E=function(e,t){return l().post("/api/v1/speech/",{lang:t,text:e})},C=function(e,t){return t.first_name=t.firstName,t.last_name=t.lastName,l().put("/api/v1/profile/"+e+"/",t)},y=function(){c(null)};t.a={loadRooms:d,loadModules:u,getModuleType:f,checkIfModuleIsValid:p,addRoom:b,addAssociate:g,loadAssociates:m,updateModule:v,updateRoom:h,registerModule:_,registerUser:w,loginUser:M,loadProfile:$,updateProfile:C,logoutUser:y,handleSpeech:E}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,o){function a(e){o(149)}var s=o(0)(o(95),o(182),a,"data-v-232ebec0",null);e.exports=s.exports},function(e,t,o){"use strict";var a=o(40),s=o.n(a),i=o(14),n=o(4),r=o(88),l=o(90),c=o(89),d=o(37);i.a.use(n.b),t.a=new n.b.Store({state:JSON.parse(s()(d.a)),actions:r.a,mutations:l.a,getters:c.a})},,,,,,function(e,t,o){"use strict";var a=o(7),s=o.n(a),i=o(38),n=localStorage.getItem("user");if(n){n=JSON.parse(n);var r=n?o.i(i.a)(n.token):{},l=!!n&&o.i(i.b)(n.token);n=s()({},n,{name:l?r.username:"",email:l?r.email:"",isOwner:l?r.is_owner:""})}else n={name:"",token:"",email:"",firstName:"",lastName:"",isOwner:""};t.a={user:s()({},n),rooms:[],modulesState:[],changedModule:{identifier:"",state:null},editSelectedModule:null}},function(e,t,o){"use strict";o.d(t,"a",function(){return a}),o.d(t,"b",function(){return s});var a=function(e){var t=e.split(".")[1],o=t.replace("-","+").replace("_","/");return JSON.parse(window.atob(o))},s=function(e){return a(e).exp<Number(new Date)/1e3}},function(e,t,o){"use strict";o.d(t,"b",function(){return i}),o.d(t,"c",function(){return n}),o.d(t,"a",function(){return r});var a=window.SpeechRecognition||window.webkitSpeechRecognition,s=window.SpeechGrammarList||window.webkitSpeechGrammarList,i=function(){var e={en:"en-US",ptbr:"pt-BR"},t=localStorage.getItem("luna-locale");return e[t]?e[t]:"en-US"},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i(),o=window.speechSynthesis,a=new SpeechSynthesisUtterance(e);a.voice=window.speechSynthesis.getVoices().find(function(e){return e.lang===t}),a.pitch=1,a.rate=1,o.speak(a)},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i(),o=new a,r=new s;r.addFromString("#JSGF V1.0; grammar luna; public <luna> = luna ;",1),o.grammars=r,o.lang=t,o.interimResults=!0,o.maxAlternatives=1,o.start(),o.onresult=function(t){var o=t.results.length-1;console.log("Results: ",t.results),t.results[o].isFinal&&e(t.results[o][0].transcript)},o.onspeechend=function(){o.stop()},o.onnomatch=function(e){n("I didn't understand you.")},o.onerror=function(e){n("Something is wrong with me. Maybe you could refresh me?")}}},,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";var a=o(85),s=o(86);t.a={en:a.a,ptbr:s.a}},function(e,t,o){"use strict";var a=o(14),s=o(194),i=o(31),n=o(172),r=o.n(n),l=o(174),c=o.n(l),d=o(175),u=o.n(d),m=o(177),f=o.n(m),p=o(176),v=o.n(p),h=o(173),_=o.n(h);a.a.use(s.a);var b=["/signin","/signup"],g=function(e,t,o){-1!==b.indexOf(e.path)||i.a.state.user.token?o():o("/signin")},w=new s.a({routes:[{path:"/",component:r.a,children:[{path:"",component:c.a},{path:"profile",component:v.a},{path:"associates",component:_.a}]},{path:"/signin",component:u.a},{path:"/signup",component:f.a}]});w.beforeEach(g),t.a=w},,function(e,t){},,function(e,t,o){function a(e){o(146)}var s=o(0)(o(91),o(179),a,null,null);e.exports=s.exports},,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";t.a={language:{name:"Language",en:"En",ptbr:"Pt-BR"},dashboard:{title:"Dashboard",subtitle:"Feeling good, {name}?"},methods:{addModule:"Add Module",editModule:"Edit Module",edit:"edit"},toolbar:{me:"Me",profile:"Profile",settings:"Settings",logout:"Logout",associates:"Associates"},switch:{on:"on",off:"off"},form:{name:"Name",identifier:"Identifier",room:"Room",close:"Close",edit:"Edit",save:"Save",register:"Register"},moduleForm:{namePlaceholder:"Name of the module",roomPlaceholder:"Room of the module",successMessage:"Module successfully updated!",errorMessage:"Module not updated!"},roomForm:{description:"Description",namePlaceholder:"Name of the room",descriptionPlaceholder:"Description of the room",successMessage:"Room successfully updated!",errorMessage:"Room not updated!"},newModuleForm:{add:"Add a module",roomPlaceholder:"Room for the module",modulePermitedMessage:"You can register this module ({module})",moduleDeniedMessage:"You can`t add this module",tryAgainMessage:"Try again later",successMessage:"Module successfully registered!",failMessage:"Module not registered!"},profile:{title:"Profile",error:"Something goes wrong!",success:"Profile updated successfully!",notification:"Please, update your profile to get access to Luna!",username:"Username",usernamePlaceholder:"Your username",email:"Email",emailPlaceholder:"Your email",firstname:"First name",firstnamePlaceholder:"Your first Name",lastname:"Last name",lastnamePlaceholder:"Your last name",updateButton:"Update Profile"},helpButton:{title:"Call for Help",subtitle:"Distress message",message:"A distress message will automatically be sent to your contacts",messagePlaceholder:"Write your message here",cancel:"Cancel",send:"Send"},newAssociate:{title:"Add a associate",username:"Username",usernamePlaceholder:"Associate`s username",emailPlaceholder:"Associate`s email",firstnamePlaceholder:"Associate`s first name",lastnamePlaceholder:"Associate`s last name",password:"Password",passwordPlaceholder:"Your password",confirmation:"Confirmation",confirmationPlaceholder:"Confirm your password",add:"Add associate",successMessage:"Associate successfully registered!"},associatesTable:{actions:"Actions",actionsPlaceholder:"Edit | Delete",message:"Nothing here"},associatesView:{title:"Associates",subtitle:"Manage your associates users",button:"New Associate"},moduleCard:{onDescription:"Turned on",offDescription:"Turned off",on:"On",off:"Off"}}},function(e,t,o){"use strict";t.a={language:{name:"Idioma",en:"Inglês",ptbr:"Português"},dashboard:{title:"Painel de Acompanhamento",subtitle:"Tudo bem, {name}?"},methods:{addModule:"Adicionar Módulo",editModule:"Editar Módulo",edit:"editar"},toolbar:{me:"Eu",profile:"Perfil",settings:"Configurações",logout:"Sair",associates:"Associados"},switch:{on:"On",off:"Off"},form:{name:"Nome",identifier:"Identificador",room:"Quarto",close:"Fechar",edit:"Editar",save:"Salvar",register:"Registrar"},moduleForm:{namePlaceholder:"Nome do módulo",roomPlaceholder:"Quarto do módulo",successMessage:"Módulo atualizado com sucesso!",errorMessage:"O módulo não foi atualizado!"},roomForm:{description:"Descrição",namePlaceholder:"Nome do quarto",descriptionPlaceholder:"Descrição do quarto",successMessage:"Quarto atualizado com sucesso!",errorMessage:"O quarto não foi atualizado!"},newModuleForm:{add:"Adicionar um módulo",roomPlaceholder:"Quarto para o módulo",modulePermitedMessage:"Você pode adicionar esse módulo ({module})",moduleDeniedMessage:"Você não pode adicionar esse módulo",tryAgainMessage:"Tente novamente mais tarde",successMessage:"Módulo registrado com sucesso!",failMessage:"Módulo não registrado!"},profile:{title:"Perfil",error:"Algo deu errado!",success:"Perfil atualizado com sucesso!",notification:"Por favor, atualize seu perfil para acessar a Luna!",username:"Nome de usuário",usernamePlaceholder:"Seu nome de usuário",email:"Email",emailPlaceholder:"Seu email",firstname:"Primeiro nome",firstnamePlaceholder:"Seu primeiro nome",lastname:"Sobrenome",lastnamePlaceholder:"Seu sobrenome",updateButton:"Atualizar Perfil"},helpButton:{title:"Pedido de Socorro",subtitle:"Mensagem de socorro",message:"Uma mensagem de socorro será enviada automaticamente para os seus contatos",messagePlaceholder:"Escreva sua mensagem aqui",cancel:"Cancelar",send:"Enviar"},newAssociate:{title:"Adicionar associado",username:"Nome de usuário",usernamePlaceholder:"Nome de usuário do associado",emailPlaceholder:"Email do associado",firstnamePlaceholder:"Primeiro nome do associado",lastnamePlaceholder:"Sobrenome do associado",password:"Senha",passwordPlaceholder:"Sua senha",confirmation:"Confirmação",confirmationPlaceholder:"Confirme sua senha",add:"Adicionar associado",successMessage:"Associado registrado com sucesso!"},associatesTable:{actions:"Ações",actionsPlaceholder:"Editar | Deletar",message:"Nada aqui"},associatesView:{title:"Associados",subtitle:"Gerencie seus usuários associados",button:"Novo associado"},moduleCard:{onDescription:"Foi ligado",offDescription:"Foi desligado",on:"Ligado",off:"Desligado"}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(14),s=o(65),i=o.n(s),n=o(61),r=o(31),l=o(66),c=(o.n(l),o(62)),d=o.n(c),u=o(64),m=o(63),f=(o.n(m),o(60));a.a.use(d.a),a.a.use(u.a),a.a.config.productionTip=!1,o.i(l.sync)(r.a,n.a);var p=new u.a({locale:localStorage.getItem("luna-locale")||"en",messages:f.a});new a.a({el:"#app",router:n.a,store:r.a,template:"<App/>",components:{App:i.a},i18n:p})},function(e,t,o){"use strict";var a=o(7),s=o.n(a),i=o(107),n=o.n(i),r=o(6),l=o(38);t.a={FETCH_USER_ROOMS:function(e){var t=e.commit;return new n.a(function(e,o){r.a.loadRooms().then(function(o){var a=o.data.results;r.a.loadModules().then(function(o){var i=o.data.results;a=a.map(function(e){return s()({},e,{modules:i.filter(function(t){return t.room===e.id})})}),t("SET_ROOMS",a),e(a)})}).catch(function(e){o(e)})})},UPDATE_MODULE_STATE:function(e,t){(0,e.commit)(e.state.modulesState.find(function(e){return e.identifier===t.identifier})?"SET_MODULE_STATE":"ADD_MODULE_STATE",t)},FETCH_PROFILE:function(e,t){var o=e.commit;return new n.a(function(e,a){r.a.loadProfile(t).then(function(t){o("SET_PROFILE",t.data),e(t)}).catch(function(e){a(e)})})},UPDATE_PROFILE:function(e,t){var o=e.commit,a=t.username,s=t.newProfile;return new n.a(function(e,t){r.a.updateProfile(a,s).then(function(t){o("SET_PROFILE",t.data),e(t)}).catch(function(e){t(e)})})},REGISTER:function(e,t){e.commit;return r.a.registerUser(t)},LOGIN:function(e,t){var a=e.commit;e.dispatch;return new n.a(function(e,s){r.a.loginUser(t).then(function(s){var i=s.data,n=o.i(l.a)(i.token),r={name:t.username,token:i.token,isOwner:n.is_owner,email:n.email};a("SET_USER",r),e(r)}).catch(function(e){s(e)})})},LOGOUT:function(e){var t=e.commit;r.a.logoutUser(),localStorage.removeItem("user"),t("RESET_STORE")}}},function(e,t,o){"use strict";t.a={moduleState:function(e){return function(t){var o=e.modulesState.find(function(e){return e.identifier===t});return!!o&&o.state}},roomById:function(e){return function(t){return e.rooms.find(function(e){return e.id===t})}}}},function(e,t,o){"use strict";var a=o(40),s=o.n(a),i=o(37),n=o(14),r=o(39);t.a={SET_ROOMS:function(e,t){e.rooms=t},ADD_MODULE_STATE:function(e,t){e.modulesState.push(t)},SET_MODULE_STATE:function(e,t){var a=e.rooms.reduce(function(e,o){var a=o.modules.find(function(e){return e.identifier===t.identifier});return a?{room:o,module:a}:e},{room:null,module:null}),s=a.room,i=a.module;t.remote&&e.modulesState.find(function(e){return e.identifier===t.identifier}).state!==t.state&&o.i(r.c)("The "+i.name+" was remotely "+(t.state?"turned on":"turned off")+" in the "+s.name),e.changedModule=t,e.modulesState.find(function(e){return e.identifier===t.identifier}).state=t.state},SET_PROFILE:function(e,t){e.user.name=t.username,e.user.email=t.email,e.user.firstName=t.first_name,e.user.lastName=t.last_name,localStorage.setItem("user",s()(e.user))},SET_USER:function(e,t){e.user=t,localStorage.setItem("user",s()(e.user))},RESET_STORE:function(e){for(var t in e)"route"!==t&&n.a.set(e,t,i.a[t])},SET_SELECTED_EDIT_MODULE:function(e,t){e.editSelectedModule=t}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",components:{}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(7),s=o.n(a),i=o(4);t.default={name:"associatesTable",props:["associates"],computed:s()({},o.i(i.a)(["rooms"])),methods:{}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(7),s=o.n(a),i=o(6),n=o(4);t.default={name:"editModuleForm",props:["module"],computed:s()({},o.i(n.a)(["rooms"])),data:function(){return{roomName:this.$store.getters.roomById(this.module.room).name,isModuleValid:!1,loadingModule:!1,fieldType:""}},methods:{editModule:function(){var e=this,t=this.$loading.open(),o=function(o){e.$store.dispatch("FETCH_USER_ROOMS").then(function(o){t.close(),e.$parent.close(),e.$toast.open({message:e.$t("moduleForm.successMessage"),type:"is-success"})})},a=function(o){console.log(o),t.close(),e.$toast.open({message:e.$t("moduleForm.errorMessage"),type:"is-danger"})},s={name:this.module.name,is_active:!0,room:this.module.room,identifier:this.module.identifier,module_type:this.module.module_type};this.module.room?i.a.updateModule(this.module.id,s).then(o).catch(a):i.a.addRoom({name:this.roomName}).then(function(t){s.room=t.data.id,i.a.updateModule(e.module.id,s).then(o).catch(a)}).catch(a)}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(7),s=o.n(a),i=o(6),n=o(4);t.default={name:"editRoomForm",props:["room"],computed:s()({},o.i(n.a)(["rooms"])),methods:{editRoom:function(){var e=this,t=this.$loading.open(),o={id:this.room.id,name:this.room.name,description:this.room.description};i.a.updateRoom(o.id,o).then(function(o){e.$store.dispatch("FETCH_USER_ROOMS").then(function(o){t.close(),e.$parent.close(),e.$toast.open({message:e.$t("roomForm.successMessage"),type:"is-success"})})}).catch(function(o){console.log(o),t.close(),e.$toast.open({message:e.$t("roomForm.errorMessage"),type:"is-danger"})})}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"header-title",props:["title","subtitle"]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["module"],methods:{getDescription:function(){return!0===this.switchState?this.$t("moduleCard.onDescription"):this.$t("moduleCard.offDescription")},getText:function(){return!0===this.switchState?this.$t("moduleCard.on"):this.$t("moduleCard.off")},openEditModuleModal:function(){this.$store.commit("SET_SELECTED_EDIT_MODULE",this.module)}},computed:{switchState:{set:function(e){this.$store.dispatch("UPDATE_MODULE_STATE",{identifier:this.module.identifier,state:e,remote:!1})},get:function(){return this.$store.getters.moduleState(this.module.identifier)}}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(6);t.default={name:"newAssociateForm",data:function(){return{associate:{username:"",email:"",firstName:"",lastName:"",password:"",confirmation:""}}},methods:{addAssociate:function(){var e=this,t=this.$loading.open(),o={username:this.associate.username,email:this.associate.email,first_name:this.associate.firstName,last_name:this.associate.lastName,password:this.associate.password};a.a.addAssociate(o).then(function(o){console.log(o),t.close(),e.$parent.close(),e.$toast.open({message:e.$t("newAssociate.successMessage"),type:"is-success"})}).catch(function(e){console.log(e)})}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(7),s=o.n(a),i=o(6),n=o(4);t.default={name:"newModuleForm",computed:s()({},o.i(n.a)(["rooms"])),data:function(){return{module:{id:"",identifier:"",type:"",typeName:"",room:"",roomName:"",name:""},isModuleValid:!1,loadingModule:!1,fieldType:""}},methods:{getIdentifierMessage:function(){switch(this.fieldType){case"is-success":return this.$t("newModuleForm.modulePermitedMessage",{module:this.module.typeName});case"is-danger":return this.$t("newModuleForm.moduleDeniedMessage");case"is-warning":return this.$t("newModuleForm.tryAgainMessage");default:return""}},checkModuleIsValid:function(){var e=this;8===e.module.identifier.length?(e.loadingModule=!0,i.a.checkIfModuleIsValid(e.module.identifier).then(function(t){e.module.type=t.data.module_type,e.module.id=t.data.id,i.a.getModuleType(e.module.type).then(function(t){var o=t.data;e.fieldType="is-success",e.loadingModule=!1,e.isModuleValid=!0,e.module.typeName=o.name,e.module.name=o.name})}).catch(function(t){404===t.response.status?e.fieldType="is-danger":e.fieldType="is-warning",e.loadingModule=!1,e.isModuleValid=!1})):(e.fieldType="",e.loadingModule=!1,e.isModuleValid=!1)},registerModule:function(){var e=this,t=this.$loading.open(),o=function(o){e.$store.dispatch("FETCH_USER_ROOMS").then(function(o){t.close(),e.$parent.close(),e.$toast.open({message:e.$t("newModuleForm.successMessage"),type:"is-success"})})},a=function(o){console.log(o),t.close(),e.$toast.open({message:e.$t("newModuleForm.failMessage"),type:"is-danger"})},s={name:this.module.name,is_active:!0,room:this.module.room,identifier:this.module.identifier,module_type:this.module.type};this.module.room?i.a.registerModule(this.module.identifier,s).then(o).catch(a):i.a.addRoom({name:this.module.roomName}).then(function(t){s.room=t.data.id,i.a.registerModule(e.module.identifier,s).then(o).catch(a)}).catch(a)}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(167),s=o.n(a),i=o(166),n=o.n(i);t.default={props:["room"],components:{ModuleCard:s.a,EditRoomForm:n.a},data:function(){return{isOpen:!0,isEditRoomModalActive:!1}},methods:{openEditRoomModal:function(){this.isEditRoomModalActive=!0,this.isOpen=!this.isOpen}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(7),s=o.n(a),i=o(169),n=o.n(i),r=o(165),l=o.n(r),c=o(4),d=o(39),u=o(6);t.default={name:"toolbar",data:function(){return{isNewModuleModalActive:!1}},computed:s()({},o.i(c.a)(["user"]),{isEditModuleModalActive:{get:function(){return null!==this.$store.state.editSelectedModule},set:function(e){this.$store.commit("SET_SELECTED_EDIT_MODULE",null)}}}),components:{NewModuleForm:n.a,EditModuleForm:l.a},methods:{logout:function(){this.$store.dispatch("LOGOUT"),this.$router.push("/signin")},openNewModuleModal:function(){this.isNewModuleModalActive=!0},startRecognition:function(){var e=this;d.a(function(t){u.a.handleSpeech(t,d.b()).then(function(t){var o=t.data;if(console.info("Feedback:",o),!o.result.actionIncomplete&&o.result.parameters.room&&o.result.parameters.module&&o.result.parameters.command){var a=e.$store.state.rooms.find(function(e){return e.name.toLowerCase()===o.result.parameters.room}),s=a.modules.find(function(e){return e.name.toLowerCase()===o.result.parameters.module}),i="turn on"===o.result.parameters.command||"ligar"===o.result.parameters.command;e.$store.dispatch("UPDATE_MODULE_STATE",{identifier:s.identifier,state:i,remote:!1})}d.c(o.result.fulfillment.speech,d.b())})},d.b())},changeLang:function(e){localStorage.setItem("luna-locale",e),this.$i18n.locale=e}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(171),s=o.n(a);t.default={name:"main-layout",components:{Toolbar:s.a}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(4),s=o(6),i=o(30),n=o.n(i),r=o(168),l=o.n(r),c=o(164),d=o.n(c);t.default={name:"associated-view",components:{HeaderTitle:n.a,NewAssociateForm:l.a,AssociatesTable:d.a},data:function(){return{loadingModules:!0,isLoading:!1,isNewAssociateModalActive:!1,associates:[]}},computed:o.i(a.a)(["user","rooms","modulesState","changedModule"]),watch:{},beforeMount:function(){var e=this;s.a.loadAssociates().then(function(t){e.associates=t.data.results}).catch(function(e){console.log(e)})},methods:{openNewAssociateModal:function(){this.isNewAssociateModalActive=!0}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(162),s=(o.n(a),o(30)),i=o.n(s),n=o(170),r=o.n(n),l=o(4);window.LunaClient=new window.Paho.MQTT.Client("iot.eclipse.org",443,"luna-"+new Date),t.default={name:"dashboard-view",components:{HeaderTitle:i.a,Room:r.a},data:function(){return{loadingModules:!0,isLoading:!1}},computed:o.i(l.a)(["user","rooms","modulesState","changedModule"]),watch:{changedModule:function(e,t){if(e.state!==t.state){var o=new window.Paho.MQTT.Message("1");o.destinationName="m/"+e.identifier+"/"+(e.state?101:102),window.LunaClient.send(o),console.info("↗ MQTT:",o.destinationName,o.payloadString)}}},beforeMount:function(){var e=this,t=this;t.isLoading=!0,window.LunaClient.onMessageArrived=function(t){var o=t.destinationName.split("/")[1];console.info("↙ MQTT:",t.destinationName,t.payloadString),e.$store.dispatch("UPDATE_MODULE_STATE",{identifier:o,state:"1"===t.payloadString,remote:!0})},window.LunaClient.connect({useSSL:!0,onSuccess:function(){t.$store.dispatch("FETCH_USER_ROOMS").then(function(e){e.forEach(function(e){e.modules.forEach(function(e){window.LunaClient.subscribe("m/"+e.identifier+"/1/1")})}),t.isLoading=!1}).catch(function(e){console.error(e),t.isLoading=!1})}})},beforeDestroy:function(){window.LunaClient.disconnect()}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"login-view",data:function(){return{form:{username:"",password:""},isLoading:!1,loginError:!1}},methods:{login:function(){var e=this;this.isLoading=!0,this.$store.dispatch("LOGIN",this.form).then(function(t){e.$store.dispatch("FETCH_PROFILE",e.form.username).then(function(){e.$router.push("/")})}).catch(function(t){console.log(t),e.isLoading=!1,e.loginError=!0})}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(21),s=o.n(a),i=o(30),n=o.n(i),r=o(4);t.default={name:"profile-view",components:{HeaderTitle:n.a},data:function(){return{form:{name:this.$store.state.user.name,email:this.$store.state.user.email,firstName:this.$store.state.user.firstName,lastName:this.$store.state.user.lastName},isLoading:!1,updateSuccess:!1,updateError:!1}},computed:o.i(r.a)(["user"]),beforeMount:function(){var e=this;e.isLoading=!0,e.$store.dispatch("FETCH_PROFILE",e.$store.state.user.name).then(function(t){e.isLoading=!1,e.form=s()({},e.$store.state.user)}).catch(function(t){console.log(t),e.isLoading=!1})},methods:{updateProfile:function(){var e=this;e.isLoading=!0,e.form.username=e.form.name,e.$store.dispatch("UPDATE_PROFILE",{username:e.form.username,newProfile:e.form}).then(function(t){e.isLoading=!1,e.form=e.$store.state.user,e.updateSuccess=!0}).catch(function(t){console.log(t),e.isLoading=!1,e.updateError=!0})}}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"register-view",data:function(){return{form:{username:"",email:"",identifier:"",password:"",confirmation:""},isLoading:!1,passwordMatch:-1}},methods:{register:function(){var e=this;if(this.form.password!==this.form.confirmation)return void(this.passwordMatch=0);this.isLoading=!0,this.$store.dispatch("REGISTER",this.form).then(function(t){e.isLoading=!1,e.$router.push("/signin")}).catch(function(t){console.log(t),e.isLoading=!1})}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t,o){function a(e){o(157)}var s=o(0)(o(92),o(190),a,"data-v-432a5d2e",null);e.exports=s.exports},function(e,t,o){function a(e){o(152)}var s=o(0)(o(93),o(185),a,"data-v-2e516cd6",null);e.exports=s.exports},function(e,t,o){function a(e){o(145)}var s=o(0)(o(94),o(178),a,"data-v-0ceccc44",null);e.exports=s.exports},function(e,t,o){function a(e){o(158)}var s=o(0)(o(96),o(191),a,null,null);e.exports=s.exports},function(e,t,o){function a(e){o(154)}var s=o(0)(o(97),o(187),a,"data-v-3570d51d",null);e.exports=s.exports},function(e,t,o){function a(e){o(159)}var s=o(0)(o(98),o(192),a,"data-v-7dc87f76",null);e.exports=s.exports},function(e,t,o){function a(e){o(160)}var s=o(0)(o(99),o(193),a,"data-v-c2be1a94",null);e.exports=s.exports},function(e,t,o){function a(e){o(150)}var s=o(0)(o(100),o(183),a,null,null);e.exports=s.exports},function(e,t,o){function a(e){o(156)}var s=o(0)(o(101),o(189),a,null,null);e.exports=s.exports},function(e,t,o){function a(e){o(148)}var s=o(0)(o(102),o(181),a,null,null);e.exports=s.exports},function(e,t,o){function a(e){o(155)}var s=o(0)(o(103),o(188),a,null,null);e.exports=s.exports},function(e,t,o){function a(e){o(153)}var s=o(0)(o(104),o(186),a,"data-v-2f3fad0f",null);e.exports=s.exports},function(e,t,o){function a(e){o(147)}var s=o(0)(o(105),o(180),a,null,null);e.exports=s.exports},function(e,t,o){function a(e){o(151)}var s=o(0)(o(106),o(184),a,"data-v-29899217",null);e.exports=s.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{on:{submit:function(t){t.preventDefault(),e.editRoom(t)}}},[o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[e._v(e._s(e.$t("form.edit"))+" "+e._s(e.room.name))])]),e._v(" "),o("section",{staticClass:"modal-card-body"},[o("b-field",{attrs:{label:e.$t("form.name")}},[o("b-input",{attrs:{placeholder:e.$t("roomForm.namePlaceholder"),required:""},model:{value:e.room.name,callback:function(t){e.room.name=t},expression:"room.name"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("roomForm.description")}},[o("b-input",{attrs:{placeholder:e.$t("roomForm.descriptionPlaceholder")},model:{value:e.room.description,callback:function(t){e.room.description=t},expression:"room.description"}})],1)],1),e._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v(e._s(e.$t("form.close")))]),e._v(" "),o("button",{staticClass:"button is-primary"},[e._v(e._s(e.$t("form.save")))])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("header-title",{attrs:{title:e.$t("profile.title")}}),e._v(" "),o("div",{staticClass:"container",attrs:{id:"profile-view"}},[o("b-notification",{attrs:{active:e.updateError,type:"is-danger"},on:{"update:active":function(t){e.updateError=t}}},[e._v("\n      "+e._s(e.$t("profile.error"))+"\n    ")]),e._v(" "),o("b-notification",{attrs:{active:e.updateSuccess,type:"is-success"},on:{"update:active":function(t){e.updateSuccess=t}}},[e._v("\n      "+e._s(e.$t("profile.success"))+"\n    ")]),e._v(" "),o("b-notification",{attrs:{active:!this.user.firstName,type:"is-info","has-icon":""}},[e._v("\n      "+e._s(e.$t("profile.notification"))+"\n    ")]),e._v(" "),o("form",{on:{submit:function(t){t.preventDefault(),e.updateProfile(t)}}},[o("b-field",{attrs:{grouped:""}},[o("b-field",{attrs:{label:e.$t("profile.username"),expanded:""}},[o("b-input",{attrs:{disabled:"",size:"is-medium",required:"",placeholder:e.$t("profile.usernamePlaceholder")},model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("profile.email"),expanded:""}},[o("b-input",{attrs:{type:"email",required:"",size:"is-medium",placeholder:e.$t("profile.emailPlaceholder")},model:{value:e.form.email,callback:function(t){e.form.email=t},expression:"form.email"}})],1)],1),e._v(" "),o("b-field",{attrs:{grouped:""}},[o("b-field",{attrs:{label:e.$t("profile.firstname"),expanded:""}},[o("b-input",{attrs:{required:"",size:"is-medium",placeholder:e.$t("profile.firstnamePlaceholder")},model:{value:e.form.firstName,callback:function(t){e.form.firstName=t},expression:"form.firstName"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("profile.lastname"),expanded:""}},[o("b-input",{attrs:{required:"",size:"is-medium",placeholder:e.$t("profile.lastnamePlaceholder")},model:{value:e.form.lastName,callback:function(t){e.form.lastName=t},expression:"form.lastName"}})],1)],1),e._v(" "),o("button",{staticClass:"button is-primary is-medium",attrs:{type:"submit"}},[e._v("\n        "+e._s(e.$t("profile.updateButton"))+"\n      ")])],1),e._v(" "),o("br"),e._v(" "),o("b-loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("header-title",{attrs:{title:e.$t("associatesView.title"),subtitle:e.$t("associatesView.subtitle")}}),e._v(" "),o("div",{staticClass:"container"},[o("associates-table",{attrs:{associates:e.associates}}),e._v(" "),o("a",{staticClass:"button is-primary",on:{click:e.openNewAssociateModal}},[e._v(e._s(e.$t("associatesView.button")))])],1),e._v(" "),o("b-loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),e._v(" "),o("b-modal",{attrs:{active:e.isNewAssociateModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isNewAssociateModalActive=t}}},[o("new-associate-form")],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container",attrs:{id:"header-title"}},[o("h2",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),o("p",{staticClass:"subtitle"},[e._v("\n      "+e._s(e.subtitle)+"\n  ")]),e._v(" "),o("hr")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("nav",{staticClass:"navbar is-primary",attrs:{role:"navigation","aria-label":"main navigation"}},[o("div",{staticClass:"navbar-brand"},[o("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[o("strong",[e._v("Luna")])]),e._v(" "),o("a",{staticClass:"navbar-item",on:{click:e.startRecognition}},[o("b-icon",{attrs:{icon:"microphone"}})],1)],1),e._v(" "),o("div",{staticClass:"navbar-menu"},[o("div",{staticClass:"navbar-end"},[o("a",{staticClass:"navbar-item",on:{click:e.openNewModuleModal}},[o("b-icon",{attrs:{icon:"plus"}}),e._v(" \n        "+e._s(e.$t("methods.addModule"))+"\n      ")],1),e._v(" "),o("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[o("a",{staticClass:"navbar-link"},[e._v("\n          "+e._s(e.$t("language.name"))+"\n        ")]),e._v(" "),o("div",{staticClass:"navbar-dropdown is-right"},[o("a",{staticClass:"navbar-item",on:{click:function(t){e.changeLang("en")}}},[e._v(e._s(e.$t("language.en")))]),e._v(" "),o("a",{staticClass:"navbar-item",on:{click:function(t){e.changeLang("ptbr")}}},[e._v(e._s(e.$t("language.ptbr")))])])]),e._v(" "),o("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[o("a",{staticClass:"navbar-link"},[e._v("\n          "+e._s(e.$t("toolbar.me"))+"\n        ")]),e._v(" "),o("div",{staticClass:"navbar-dropdown is-right"},[o("router-link",{staticClass:"navbar-item",attrs:{to:"/profile"}},[e._v("\n            "+e._s(e.$t("toolbar.profile"))+"\n          ")]),e._v(" "),this.user.isOwner?o("router-link",{staticClass:"navbar-item",attrs:{to:"/associates"}},[e._v("\n            "+e._s(e.$t("toolbar.associates"))+"\n          ")]):e._e(),e._v(" "),o("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[e._v("\n            "+e._s(e.$t("toolbar.settings"))+"\n          ")]),e._v(" "),o("a",{staticClass:"navbar-item",on:{click:e.logout}},[e._v("\n              "+e._s(e.$t("toolbar.logout"))+"\n            ")])],1)])])]),e._v(" "),o("b-modal",{attrs:{active:e.isNewModuleModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isNewModuleModalActive=t}}},[o("new-module-form")],1),e._v(" "),o("b-modal",{attrs:{active:e.isEditModuleModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isEditModuleModalActive=t}}},[o("edit-module-form",{attrs:{module:Object.assign({},this.$store.state.editSelectedModule)}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{staticClass:"container",attrs:{id:"register-view"},on:{submit:function(t){t.preventDefault(),e.register(t)}}},[o("b-loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),e._v(" "),o("h1",{staticClass:"title"},[e._v("Luna")]),e._v(" "),o("p",{staticClass:"subtitle"},[e._v("\n    Create a new account\n  ")]),e._v(" "),o("b-field",[o("b-input",{attrs:{required:"",size:"is-medium",placeholder:"Enter a module identifier"},model:{value:e.form.identifier,callback:function(t){e.form.identifier=t},expression:"form.identifier"}})],1),e._v(" "),o("b-field",[o("b-input",{attrs:{required:"",size:"is-medium",placeholder:"Your username"},model:{value:e.form.username,callback:function(t){e.form.username=t},expression:"form.username"}})],1),e._v(" "),o("b-field",[o("b-input",{attrs:{required:"",size:"is-medium",placeholder:"Your email"},model:{value:e.form.email,callback:function(t){e.form.email=t},expression:"form.email"}})],1),e._v(" "),o("b-field",[o("b-input",{attrs:{required:"",size:"is-medium",type:"password",placeholder:"Your password","password-reveal":""},model:{value:e.form.password,callback:function(t){e.form.password=t},expression:"form.password"}})],1),e._v(" "),o("b-field",{attrs:{type:e.passwordMatch?"":"is-danger",message:e.passwordMatch?"":"Password does not match the confirm password."}},[o("b-input",{attrs:{required:"",size:"is-medium",type:"password",placeholder:"Confirm your password","password-reveal":""},model:{value:e.form.confirmation,callback:function(t){e.form.confirmation=t},expression:"form.confirmation"}})],1),e._v(" "),o("button",{staticClass:"button is-primary is-medium is-fullwidth"},[e._v("\n    Sign Up\n  ")]),e._v(" "),o("div",{staticClass:"is-clearfix"}),e._v(" "),o("hr",{}),e._v(" "),o("router-link",{staticClass:"button is-default is-link",attrs:{to:"/signin"}},[e._v("\n    Already have an account?\n  ")])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{on:{submit:function(t){t.preventDefault(),e.editModule(t)}}},[o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[e._v(e._s(e.$t("form.edit"))+" "+e._s(e.module.name))])]),e._v(" "),o("section",{staticClass:"modal-card-body"},[o("b-field",{attrs:{label:e.$t("form.identifier"),type:e.fieldType}},[o("b-input",{attrs:{placeholder:"Identifier",maxlength:"8",disabled:""},model:{value:e.module.identifier,callback:function(t){e.module.identifier=t},expression:"module.identifier"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("form.name")}},[o("b-input",{attrs:{placeholder:e.$t("moduleForm.namePlaceholder"),required:""},model:{value:e.module.name,callback:function(t){e.module.name=t},expression:"module.name"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("form.room")}},[o("b-autocomplete",{attrs:{placeholder:e.$t("moduleForm.roomPlaceholder"),data:this.rooms,field:"name",required:""},on:{select:function(t){return e.module.room=t?t.id:""}},model:{value:e.roomName,callback:function(t){e.roomName=t},expression:"roomName"}})],1)],1),e._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v(e._s(e.$t("form.close")))]),e._v(" "),o("button",{staticClass:"button is-primary"},[e._v(e._s(e.$t("form.save")))])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container",attrs:{id:"login-view"}},[o("h1",{staticClass:"title"},[e._v("Luna")]),e._v(" "),o("p",{staticClass:"subtitle"},[e._v("\n    Access your account\n  ")]),e._v(" "),o("b-notification",{attrs:{active:e.loginError,type:"is-danger"},on:{"update:active":function(t){e.loginError=t}}},[e._v("\n    Unable to log in with provided credentials\n  ")]),e._v(" "),o("form",{on:{submit:function(t){t.preventDefault(),e.login(t)}}},[o("b-field",[o("b-input",{attrs:{required:"",size:"is-medium",placeholder:"Your username"},model:{value:e.form.username,callback:function(t){e.form.username=t},expression:"form.username"}})],1),e._v(" "),o("b-field",[o("b-input",{attrs:{required:"",size:"is-medium",type:"password",placeholder:"Your password","password-reveal":""},model:{value:e.form.password,callback:function(t){e.form.password=t},expression:"form.password"}})],1),e._v(" "),o("button",{staticClass:"button is-primary is-medium is-fullwidth"},[e._v("\n      Sign In\n    ")]),e._v(" "),o("div",{staticClass:"is-clearfix"}),e._v(" "),o("hr",{}),e._v(" "),o("a",{staticClass:"button is-default is-link"},[e._v("\n      Problems with your credentials?\n    ")])],1),e._v(" "),o("br"),e._v(" "),o("router-link",{staticClass:"button is-default is-link",attrs:{to:"/signup"}},[e._v("\n    Don't have an account?\n  ")]),e._v(" "),o("b-loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{on:{submit:function(t){t.preventDefault(),e.addAssociate(t)}}},[o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[e._v(e._s(e.$t("newAssociate.title")))])]),e._v(" "),o("section",{staticClass:"modal-card-body"},[o("b-field",{attrs:{label:e.$t("newAssociate.username")}},[o("b-input",{attrs:{placeholder:e.$t("newAssociate.usernamePlaceholder"),required:""},model:{value:e.associate.username,callback:function(t){e.associate.username=t},expression:"associate.username"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("profile.email")}},[o("b-input",{attrs:{placeholder:e.$t("newAssociate.emailPlaceholder"),required:""},model:{value:e.associate.email,callback:function(t){e.associate.email=t},expression:"associate.email"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("profile.firstname")}},[o("b-input",{attrs:{placeholder:e.$t("newAssociate.firstnamePlaceholder"),required:""},model:{value:e.associate.firstName,callback:function(t){e.associate.firstName=t},expression:"associate.firstName"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("profile.lastname")}},[o("b-input",{attrs:{placeholder:e.$t("newAssociate.lastnamePlaceholder"),required:""},model:{value:e.associate.lastName,callback:function(t){e.associate.lastName=t},expression:"associate.lastName"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("newAssociate.password")}},[o("b-input",{attrs:{required:"",type:"password",placeholder:e.$t("newAssociate.passwordPlaceholder"),"password-reveal":""},model:{value:e.associate.password,callback:function(t){e.associate.password=t},expression:"associate.password"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("newAssociate.confirmation")}},[o("b-input",{attrs:{required:"",type:"password",placeholder:e.$t("newAssociate.confirmationPlaceholder"),"password-reveal":""},model:{value:e.associate.confirmation,callback:function(t){e.associate.confirmation=t},expression:"associate.confirmation"}})],1)],1),e._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v(e._s(e.$t("form.close")))]),e._v(" "),o("button",{staticClass:"button is-primary"},[e._v(e._s(e.$t("newAssociate.add")))])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("header-title",{attrs:{title:e.$t("dashboard.title"),subtitle:e.$t("dashboard.subtitle",{name:this.user.firstName?this.user.firstName:"@"+this.user.name})}}),e._v(" "),o("div",{staticClass:"container"},e._l(e.rooms,function(e){return o("room",{key:e.id,attrs:{room:e,header:e.name,modules:e.modules}})})),e._v(" "),o("b-loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"main-layout"}},[o("toolbar"),e._v(" "),o("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-table",{attrs:{data:e.associates,bordered:!0,striped:!1,narrowed:!1,hoverable:!1,"mobile-cards":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[o("b-table-column",{attrs:{label:e.$t("profile.firstname")}},[e._v("\n      "+e._s(t.row.first_name)+"\n    ")]),e._v(" "),o("b-table-column",{attrs:{label:e.$t("profile.lastname")}},[e._v("\n      "+e._s(t.row.last_name)+"\n    ")]),e._v(" "),o("b-table-column",{attrs:{label:e.$t("profile.username")}},[e._v("\n      "+e._s(t.row.username)+"\n    ")]),e._v(" "),o("b-table-column",{attrs:{label:e.$t("profile.email")}},[e._v("\n      "+e._s(t.row.email)+"\n    ")]),e._v(" "),o("b-table-column",{attrs:{label:e.$t("associatesTable.actions")}},[e._v("\n      "+e._s(e.$t("associatesTable.actionsPlaceholder"))+"\n    ")])]}}])},[o("template",{attrs:{slot:"empty"},slot:"empty"},[o("section",{staticClass:"section"},[o("div",{staticClass:"content has-text-grey has-text-centered"},[o("p",[e._v(e._s(e.$t("associatesTable.message")))])])])])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",{staticClass:"card"},[o("header",{staticClass:"card-header"},[o("p",{staticClass:"card-header-title"},[e._v("\n      "+e._s(e.module.name)+"\n    ")]),e._v(" "),o("a",{staticClass:"card-header-icon",attrs:{"aria-label":"more options"},on:{click:e.openEditModuleModal}},[o("span",{staticClass:"icon"},[o("b-icon",{attrs:{icon:"pencil"}})],1)])]),e._v(" "),o("div",{staticClass:"card-content"},[o("div",{staticClass:"content"},[o("div",{staticClass:"field"},[o("b-switch",{attrs:{size:""},model:{value:e.switchState,callback:function(t){e.switchState=t},expression:"switchState"}},[e._v(e._s(e.getText()))])],1)])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("form",{on:{submit:function(t){t.preventDefault(),e.registerModule(t)}}},[o("div",{staticClass:"modal-card"},[o("header",{staticClass:"modal-card-head"},[o("p",{staticClass:"modal-card-title"},[e._v(e._s(e.$t("newModuleForm.add")))])]),e._v(" "),o("section",{staticClass:"modal-card-body"},[o("b-field",{attrs:{label:e.$t("form.identifier"),type:e.fieldType,message:e.getIdentifierMessage()}},[o("b-input",{attrs:{placeholder:e.$t("form.identifier"),maxlength:"8",icon:"magnify",loading:e.loadingModule},on:{input:e.checkModuleIsValid},model:{value:e.module.identifier,callback:function(t){e.module.identifier=t},expression:"module.identifier"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("form.name")}},[o("b-input",{attrs:{disabled:!e.isModuleValid,placeholder:e.$t("moduleForm.namePlaceholder"),required:""},model:{value:e.module.name,callback:function(t){e.module.name=t},expression:"module.name"}})],1),e._v(" "),o("b-field",{attrs:{label:e.$t("form.room")}},[o("b-autocomplete",{attrs:{placeholder:e.$t("newModuleForm.roomPlaceholder"),data:this.rooms,field:"name",required:"",disabled:!e.isModuleValid},on:{select:function(t){return e.module.room=t?t.id:""}},model:{value:e.module.roomName,callback:function(t){e.module.roomName=t},expression:"module.roomName"}})],1)],1),e._v(" "),o("footer",{staticClass:"modal-card-foot"},[o("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v(e._s(e.$t("form.close")))]),e._v(" "),o("button",{staticClass:"button is-primary",attrs:{disabled:!e.isModuleValid}},[e._v(e._s(e.$t("form.register")))])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("b-collapse",{staticClass:"card",attrs:{open:e.isOpen},on:{"update:open":function(t){e.isOpen=t}}},[o("div",{staticClass:"card-header",attrs:{slot:"trigger"},slot:"trigger"},[o("p",{staticClass:"card-header-title",attrs:{title:e.room.description}},[e._v("\n        "+e._s(e.room.name)+" \n        "),o("a",{on:{click:e.openEditRoomModal}},[e._v(e._s(e.$t("form.edit")))])]),e._v(" "),o("a",{staticClass:"card-header-icon"},[o("b-icon",{attrs:{icon:e.isOpen?"menu-down":"menu-up"}})],1)]),e._v(" "),o("div",{staticClass:"panel-block"},[o("div",{staticClass:"columns is-multiline"},e._l(e.room.modules,function(e,t){return o("div",{key:e.title,staticClass:"column is-one-quarter"},[o("module-card",{attrs:{module:e}})],1)}))])]),e._v(" "),o("b-modal",{attrs:{active:e.isEditRoomModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isEditRoomModalActive=t}}},[o("edit-room-form",{attrs:{room:Object.assign({},e.room)}})],1)],1)},staticRenderFns:[]}}],[87]);
//# sourceMappingURL=app.e4eb127ec9773e78dd7d.js.map