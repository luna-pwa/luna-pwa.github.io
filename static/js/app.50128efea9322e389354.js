webpackJsonp([1],[,,,,,,function(e,t,a){"use strict";var o=a(21),n=a.n(o),i=a(65),s=a.n(i),r=void 0,l=function(){if(!r){var e=JSON.parse(localStorage.getItem("user")),t=e?e.token:"";r=s.a.create({baseURL:"https://luna-admin.herokuapp.com",headers:{Authorization:t?"JWT "+t:""}})}return r},u=function(e){n()(r.defaults,{headers:{Authorization:e?"JWT "+e:""}})},c=function(){return l().get("/api/v1/rooms/")},d=function(){return l().get("/api/v1/modules/")},m=function(){return l().get("/api/v1/associates/")},f=function(e){return l().get("/api/v1/module_types/"+e+"/")},p=function(e){return l().get("/api/v1/modules_pending/"+e+"/")},v=function(e,t){return l().put("/api/v1/modules/"+e+"/",t)},h=function(e,t){return l().put("/api/v1/rooms/"+e+"/",t)},_=function(e,t){return l().put("/api/v1/modules_pending/"+e+"/",t)},b=function(e){return l().post("/api/v1/rooms/",e)},g=function(e){return l().post("/api/v1/associates/",e)},w=function(e){return l().post("/api/v1/users/",e)},M=function(e){return l().post("/api/auth/token/",e).then(function(e){return u(e.data.token||""),e})},E=function(e){return l().get("/api/v1/profile/"+e)},y=function(e,t){return l().post("/api/v1/speech/",{lang:t,text:e})},C=function(e,t){return t.first_name=t.firstName,t.last_name=t.lastName,l().put("/api/v1/profile/"+e+"/",t)},S=function(){u(null)};t.a={loadRooms:c,loadModules:d,getModuleType:f,checkIfModuleIsValid:p,addRoom:b,addAssociate:g,loadAssociates:m,updateModule:v,updateRoom:h,registerModule:_,registerUser:w,loginUser:M,loadProfile:E,updateProfile:C,logoutUser:S,handleSpeech:y}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){function o(e){a(153)}var n=a(0)(a(91),a(186),o,"data-v-7e122366",null);e.exports=n.exports},function(e,t,a){"use strict";var o=a(40),n=a.n(o),i=a(14),s=a(4),r=a(84),l=a(86),u=a(85),c=a(37);i.a.use(s.b),t.a=new s.b.Store({state:JSON.parse(n()(c.a)),actions:r.a,mutations:l.a,getters:u.a})},,,,,,function(e,t,a){"use strict";var o=a(7),n=a.n(o),i=a(38),s=localStorage.getItem("user");if(s){s=JSON.parse(s);var r=s?a.i(i.a)(s.token):{},l=!!s&&a.i(i.b)(s.token);s=n()({},s,{name:l?r.username:"",email:l?r.email:"",isOwner:l?r.is_owner:""})}else s={name:"",token:"",email:"",firstName:"",lastName:"",isOwner:""};t.a={user:n()({},s),rooms:[],modulesState:[],changedModule:{identifier:"",state:null},editSelectedModule:null}},function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return n});var o=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(window.atob(a))},n=function(e){return o(e).exp<Number(new Date)/1e3}},function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return s});var o=window.SpeechRecognition||window.webkitSpeechRecognition,n=window.SpeechGrammarList||window.webkitSpeechGrammarList,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",a=window.speechSynthesis,o=new SpeechSynthesisUtterance(e);o.voice=window.speechSynthesis.getVoices().find(function(e){return e.lang===t}),o.pitch=1,o.rate=1,a.speak(o)},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",a=new o,s=new n;s.addFromString("#JSGF V1.0; grammar luna; public <luna> = luna ;",1),a.grammars=s,a.lang=t,a.interimResults=!0,a.maxAlternatives=1,a.start(),a.onresult=function(t){var a=t.results.length-1;console.log("Results: ",t.results),t.results[a].isFinal&&e(t.results[a][0].transcript)},a.onspeechend=function(){a.stop()},a.onnomatch=function(e){i("I didn't understand you.")},a.onerror=function(e){i("Something is wrong with me. Maybe you could refresh me?")}}},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var o=a(14),n=a(190),i=a(31),s=a(168),r=a.n(s),l=a(170),u=a.n(l),c=a(171),d=a.n(c),m=a(173),f=a.n(m),p=a(172),v=a.n(p),h=a(169),_=a.n(h);o.a.use(n.a);var b=["/signin","/signup"],g=function(e,t,a){-1!==b.indexOf(e.path)||i.a.state.user.token?a():a("/signin")},w=new n.a({routes:[{path:"/",component:r.a,children:[{path:"",component:u.a},{path:"profile",component:v.a},{path:"associates",component:_.a}]},{path:"/signin",component:d.a},{path:"/signup",component:f.a}]});w.beforeEach(g),t.a=w},,function(e,t){},function(e,t,a){function o(e){a(155)}var n=a(0)(a(87),a(188),o,null,null);e.exports=n.exports},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(14),n=a(63),i=a.n(n),s=a(60),r=a(31),l=a(64),u=(a.n(l),a(61)),c=a.n(u),d=a(62);a.n(d);o.a.use(c.a),o.a.config.productionTip=!1,a.i(l.sync)(r.a,s.a),new o.a({el:"#app",router:s.a,store:r.a,template:"<App/>",components:{App:i.a}})},function(e,t,a){"use strict";var o=a(7),n=a.n(o),i=a(103),s=a.n(i),r=a(6),l=a(38);t.a={FETCH_USER_ROOMS:function(e){var t=e.commit;return new s.a(function(e,a){r.a.loadRooms().then(function(a){var o=a.data.results;r.a.loadModules().then(function(a){var i=a.data.results;o=o.map(function(e){return n()({},e,{modules:i.filter(function(t){return t.room===e.id})})}),t("SET_ROOMS",o),e(o)})}).catch(function(e){a(e)})})},UPDATE_MODULE_STATE:function(e,t){(0,e.commit)(e.state.modulesState.find(function(e){return e.identifier===t.identifier})?"SET_MODULE_STATE":"ADD_MODULE_STATE",t)},FETCH_PROFILE:function(e,t){var a=e.commit;return new s.a(function(e,o){r.a.loadProfile(t).then(function(t){a("SET_PROFILE",t.data),e(t)}).catch(function(e){o(e)})})},UPDATE_PROFILE:function(e,t){var a=e.commit,o=t.username,n=t.newProfile;return new s.a(function(e,t){r.a.updateProfile(o,n).then(function(t){a("SET_PROFILE",t.data),e(t)}).catch(function(e){t(e)})})},REGISTER:function(e,t){e.commit;return r.a.registerUser(t)},LOGIN:function(e,t){var o=e.commit;e.dispatch;return new s.a(function(e,n){r.a.loginUser(t).then(function(n){var i=n.data,s=a.i(l.a)(i.token),r={name:t.username,token:i.token,isOwner:s.is_owner,email:s.email};o("SET_USER",r),e(r)}).catch(function(e){n(e)})})},LOGOUT:function(e){var t=e.commit;r.a.logoutUser(),localStorage.removeItem("user"),t("RESET_STORE")}}},function(e,t,a){"use strict";t.a={moduleState:function(e){return function(t){var a=e.modulesState.find(function(e){return e.identifier===t});return!!a&&a.state}},roomById:function(e){return function(t){return e.rooms.find(function(e){return e.id===t})}}}},function(e,t,a){"use strict";var o=a(40),n=a.n(o),i=a(37),s=a(14),r=a(39);t.a={SET_ROOMS:function(e,t){e.rooms=t},ADD_MODULE_STATE:function(e,t){e.modulesState.push(t)},SET_MODULE_STATE:function(e,t){var o=e.rooms.reduce(function(e,a){var o=a.modules.find(function(e){return e.identifier===t.identifier});return o?{room:a,module:o}:e},{room:null,module:null}),n=o.room,i=o.module;t.remote&&e.modulesState.find(function(e){return e.identifier===t.identifier}).state!==t.state&&a.i(r.b)("The "+i.name+" was remotely "+(t.state?"turned on":"turned off")+" in the "+n.name),e.changedModule=t,e.modulesState.find(function(e){return e.identifier===t.identifier}).state=t.state},SET_PROFILE:function(e,t){e.user.name=t.username,e.user.email=t.email,e.user.firstName=t.first_name,e.user.lastName=t.last_name,localStorage.setItem("user",n()(e.user))},SET_USER:function(e,t){e.user=t,localStorage.setItem("user",n()(e.user))},RESET_STORE:function(e){for(var t in e)"route"!==t&&s.a.set(e,t,i.a[t])},SET_SELECTED_EDIT_MODULE:function(e,t){e.editSelectedModule=t}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",components:{}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),n=a.n(o),i=a(4);t.default={name:"associatesTable",props:["associates"],computed:n()({},a.i(i.a)(["rooms"])),methods:{}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),n=a.n(o),i=a(6),s=a(4);t.default={name:"editModuleForm",props:["module"],computed:n()({},a.i(s.a)(["rooms"])),data:function(){return{roomName:this.$store.getters.roomById(this.module.room).name,isModuleValid:!1,loadingModule:!1,fieldType:""}},methods:{editModule:function(){var e=this,t=this.$loading.open(),a=function(a){e.$store.dispatch("FETCH_USER_ROOMS").then(function(a){t.close(),e.$parent.close(),e.$toast.open({message:"Module sucefully updated!",type:"is-success"})})},o=function(a){console.log(a),t.close(),e.$toast.open({message:"Module not updated!",type:"is-danger"})},n={name:this.module.name,is_active:!0,room:this.module.room,identifier:this.module.identifier,module_type:this.module.module_type};this.module.room?i.a.updateModule(this.module.id,n).then(a).catch(o):i.a.addRoom({name:this.roomName}).then(function(t){n.room=t.data.id,i.a.updateModule(e.module.id,n).then(a).catch(o)}).catch(o)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),n=a.n(o),i=a(6),s=a(4);t.default={name:"editRoomForm",props:["room"],computed:n()({},a.i(s.a)(["rooms"])),methods:{editRoom:function(){var e=this,t=this.$loading.open(),a={id:this.room.id,name:this.room.name,description:this.room.description};i.a.updateRoom(a.id,a).then(function(a){e.$store.dispatch("FETCH_USER_ROOMS").then(function(a){t.close(),e.$parent.close(),e.$toast.open({message:"Room sucefully updated!",type:"is-success"})})}).catch(function(a){console.log(a),t.close(),e.$toast.open({message:"Room not updated!",type:"is-danger"})})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"header-title",props:["title","subtitle"]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["module"],methods:{getDescription:function(){return!0===this.switchState?"Turned on":"Turned off"},getText:function(){return!0===this.switchState?"on":"off"},openEditModuleModal:function(){this.$store.commit("SET_SELECTED_EDIT_MODULE",this.module)}},computed:{switchState:{set:function(e){this.$store.dispatch("UPDATE_MODULE_STATE",{identifier:this.module.identifier,state:e,remote:!1})},get:function(){return this.$store.getters.moduleState(this.module.identifier)}}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(6);t.default={name:"newAssociateForm",data:function(){return{associate:{username:"",email:"",firstName:"",lastName:"",password:"",confirmation:""}}},methods:{addAssociate:function(){var e=this,t=this.$loading.open(),a={username:this.associate.username,email:this.associate.email,first_name:this.associate.firstName,last_name:this.associate.lastName,password:this.associate.password};o.a.addAssociate(a).then(function(a){console.log(a),t.close(),e.$parent.close(),e.$toast.open({message:"Associate sucefully registered!",type:"is-success"})}).catch(function(e){console.log(e)})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),n=a.n(o),i=a(6),s=a(4);t.default={name:"newModuleForm",computed:n()({},a.i(s.a)(["rooms"])),data:function(){return{module:{id:"",identifier:"",type:"",typeName:"",room:"",roomName:"",name:""},isModuleValid:!1,loadingModule:!1,fieldType:""}},methods:{getIdentifierMessage:function(){switch(this.fieldType){case"is-success":return"You can register this module ("+this.module.typeName+")";case"is-danger":return"You can't add this module";case"is-warning":return"Try again later";default:return""}},checkModuleIsValid:function(){var e=this;8===e.module.identifier.length?(e.loadingModule=!0,i.a.checkIfModuleIsValid(e.module.identifier).then(function(t){e.module.type=t.data.module_type,e.module.id=t.data.id,i.a.getModuleType(e.module.type).then(function(t){var a=t.data;e.fieldType="is-success",e.loadingModule=!1,e.isModuleValid=!0,e.module.typeName=a.name,e.module.name=a.name})}).catch(function(t){404===t.response.status?e.fieldType="is-danger":e.fieldType="is-warning",e.loadingModule=!1,e.isModuleValid=!1})):(e.fieldType="",e.loadingModule=!1,e.isModuleValid=!1)},registerModule:function(){var e=this,t=this.$loading.open(),a=function(a){e.$store.dispatch("FETCH_USER_ROOMS").then(function(a){t.close(),e.$parent.close(),e.$toast.open({message:"Module sucefully registered!",type:"is-success"})})},o=function(a){console.log(a),t.close(),e.$toast.open({message:"Module not registered!",type:"is-danger"})},n={name:this.module.name,is_active:!0,room:this.module.room,identifier:this.module.identifier,module_type:this.module.type};this.module.room?i.a.registerModule(this.module.identifier,n).then(a).catch(o):i.a.addRoom({name:this.module.roomName}).then(function(t){n.room=t.data.id,i.a.registerModule(e.module.identifier,n).then(a).catch(o)}).catch(o)}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(163),n=a.n(o),i=a(162),s=a.n(i);t.default={props:["room"],components:{ModuleCard:n.a,EditRoomForm:s.a},data:function(){return{isOpen:!0,isEditRoomModalActive:!1}},methods:{openEditRoomModal:function(){this.isEditRoomModalActive=!0,this.isOpen=!this.isOpen}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(7),n=a.n(o),i=a(165),s=a.n(i),r=a(161),l=a.n(r),u=a(4),c=a(39),d=a(6);t.default={name:"toolbar",data:function(){return{isNewModuleModalActive:!1}},computed:n()({},a.i(u.a)(["user"]),{isEditModuleModalActive:{get:function(){return null!==this.$store.state.editSelectedModule},set:function(e){this.$store.commit("SET_SELECTED_EDIT_MODULE",null)}}}),components:{NewModuleForm:s.a,EditModuleForm:l.a},methods:{logout:function(){this.$store.dispatch("LOGOUT"),this.$router.push("/signin")},openNewModuleModal:function(){this.isNewModuleModalActive=!0},startRecognition:function(){var e=this;c.a(function(t){d.a.handleSpeech(t,"en").then(function(t){var a=t.data;if(console.info("Feedback:",a),!a.result.actionIncomplete&&a.result.parameters.room&&a.result.parameters.module&&a.result.parameters.command){var o=e.$store.state.rooms.find(function(e){return e.name.toLowerCase()===a.result.parameters.room}),n=o.modules.find(function(e){return e.name.toLowerCase()===a.result.parameters.module}),i="turn on"===a.result.parameters.command||"ligar"===a.result.parameters.command;e.$store.dispatch("UPDATE_MODULE_STATE",{identifier:n.identifier,state:i,remote:!1})}c.b(a.result.fulfillment.speech)})})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(167),n=a.n(o);t.default={name:"main-layout",components:{Toolbar:n.a}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),n=a(6),i=a(30),s=a.n(i),r=a(164),l=a.n(r),u=a(160),c=a.n(u);t.default={name:"associated-view",components:{HeaderTitle:s.a,NewAssociateForm:l.a,AssociatesTable:c.a},data:function(){return{loadingModules:!0,isLoading:!1,isNewAssociateModalActive:!1,associates:[]}},computed:a.i(o.a)(["user","rooms","modulesState","changedModule"]),watch:{},beforeMount:function(){var e=this;n.a.loadAssociates().then(function(t){e.associates=t.data.results}).catch(function(e){console.log(e)})},methods:{openNewAssociateModal:function(){this.isNewAssociateModalActive=!0}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(158),n=(a.n(o),a(30)),i=a.n(n),s=a(166),r=a.n(s),l=a(4);window.LunaClient=new window.Paho.MQTT.Client("iot.eclipse.org",443,"luna-"+new Date),t.default={name:"dashboard-view",components:{HeaderTitle:i.a,Room:r.a},data:function(){return{loadingModules:!0,isLoading:!1}},computed:a.i(l.a)(["user","rooms","modulesState","changedModule"]),watch:{changedModule:function(e,t){if(e.state!==t.state){var a=new window.Paho.MQTT.Message("1");a.destinationName="m/"+e.identifier+"/"+(e.state?101:102),window.LunaClient.send(a),console.info("↗ MQTT:",a.destinationName,a.payloadString)}}},beforeMount:function(){var e=this,t=this;t.isLoading=!0,window.LunaClient.onMessageArrived=function(t){var a=t.destinationName.split("/")[1];console.info("↙ MQTT:",t.destinationName,t.payloadString),e.$store.dispatch("UPDATE_MODULE_STATE",{identifier:a,state:"1"===t.payloadString,remote:!0})},window.LunaClient.connect({useSSL:!0,onSuccess:function(){t.$store.dispatch("FETCH_USER_ROOMS").then(function(e){e.forEach(function(e){e.modules.forEach(function(e){window.LunaClient.subscribe("m/"+e.identifier+"/1/1")})}),t.isLoading=!1}).catch(function(e){console.error(e),t.isLoading=!1})}})},beforeDestroy:function(){window.LunaClient.disconnect()}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"login-view",data:function(){return{form:{username:"",password:""},isLoading:!1,loginError:!1}},methods:{login:function(){var e=this;this.isLoading=!0,this.$store.dispatch("LOGIN",this.form).then(function(t){e.$store.dispatch("FETCH_PROFILE",e.form.username).then(function(){e.$router.push("/")})}).catch(function(t){console.log(t),e.isLoading=!1,e.loginError=!0})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(21),n=a.n(o),i=a(30),s=a.n(i),r=a(4);t.default={name:"profile-view",components:{HeaderTitle:s.a},data:function(){return{form:{name:this.$store.state.user.name,email:this.$store.state.user.email,firstName:this.$store.state.user.firstName,lastName:this.$store.state.user.lastName},isLoading:!1,updateSuccess:!1,updateError:!1}},computed:a.i(r.a)(["user"]),beforeMount:function(){var e=this;e.isLoading=!0,e.$store.dispatch("FETCH_PROFILE",e.$store.state.user.name).then(function(t){e.isLoading=!1,e.form=n()({},e.$store.state.user)}).catch(function(t){console.log(t),e.isLoading=!1})},methods:{updateProfile:function(){var e=this;e.isLoading=!0,e.form.username=e.form.name,e.$store.dispatch("UPDATE_PROFILE",{username:e.form.username,newProfile:e.form}).then(function(t){e.isLoading=!1,e.form=e.$store.state.user,e.updateSuccess=!0}).catch(function(t){console.log(t),e.isLoading=!1,e.updateError=!0})}}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"register-view",data:function(){return{form:{username:"",email:"",identifier:"",password:"",confirmation:""},isLoading:!1,passwordMatch:-1}},methods:{register:function(){var e=this;if(this.form.password!==this.form.confirmation)return void(this.passwordMatch=0);this.isLoading=!0,this.$store.dispatch("REGISTER",this.form).then(function(t){e.isLoading=!1,e.$router.push("/signin")}).catch(function(t){console.log(t),e.isLoading=!1})}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t,a){function o(e){a(141)}var n=a(0)(a(88),a(174),o,"data-v-02420258",null);e.exports=n.exports},function(e,t,a){function o(e){a(154)}var n=a(0)(a(89),a(187),o,"data-v-a65649a2",null);e.exports=n.exports},function(e,t,a){function o(e){a(142)}var n=a(0)(a(90),a(175),o,"data-v-0e75fc5e",null);e.exports=n.exports},function(e,t,a){function o(e){a(149)}var n=a(0)(a(92),a(182),o,null,null);e.exports=n.exports},function(e,t,a){function o(e){a(144)}var n=a(0)(a(93),a(177),o,"data-v-1f5f2f92",null);e.exports=n.exports},function(e,t,a){function o(e){a(143)}var n=a(0)(a(94),a(176),o,"data-v-1e8ed92a",null);e.exports=n.exports},function(e,t,a){function o(e){a(156)}var n=a(0)(a(95),a(189),o,"data-v-da7e4660",null);e.exports=n.exports},function(e,t,a){function o(e){a(147)}var n=a(0)(a(96),a(180),o,null,null);e.exports=n.exports},function(e,t,a){function o(e){a(150)}var n=a(0)(a(97),a(183),o,null,null);e.exports=n.exports},function(e,t,a){function o(e){a(152)}var n=a(0)(a(98),a(185),o,null,null);e.exports=n.exports},function(e,t,a){function o(e){a(146)}var n=a(0)(a(99),a(179),o,null,null);e.exports=n.exports},function(e,t,a){function o(e){a(145)}var n=a(0)(a(100),a(178),o,"data-v-235f9729",null);e.exports=n.exports},function(e,t,a){function o(e){a(151)}var n=a(0)(a(101),a(184),o,null,null);e.exports=n.exports},function(e,t,a){function o(e){a(148)}var n=a(0)(a(102),a(181),o,"data-v-377539bd",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-table",{attrs:{data:e.associates,bordered:!0,striped:!1,narrowed:!1,hoverable:!1,"mobile-cards":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-table-column",{attrs:{label:"First Name"}},[e._v("\n      "+e._s(t.row.first_name)+"\n    ")]),e._v(" "),a("b-table-column",{attrs:{label:"Last Name"}},[e._v("\n      "+e._s(t.row.last_name)+"\n    ")]),e._v(" "),a("b-table-column",{attrs:{label:"Username"}},[e._v("\n      "+e._s(t.row.username)+"\n    ")]),e._v(" "),a("b-table-column",{attrs:{label:"Email"}},[e._v("\n      "+e._s(t.row.email)+"\n    ")]),e._v(" "),a("b-table-column",{attrs:{label:"Ações"}},[e._v("\n      Editar | Excluir\n    ")])]}}])},[a("template",{attrs:{slot:"empty"},slot:"empty"},[a("section",{staticClass:"section"},[a("div",{staticClass:"content has-text-grey has-text-centered"},[a("p",[e._v("Nothing here.")])])])])],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){t.preventDefault(),e.editRoom(t)}}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Edit "+e._s(e.room.name))])]),e._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"Name"}},[a("b-input",{attrs:{placeholder:"Name of the room",required:""},model:{value:e.room.name,callback:function(t){e.room.name=t},expression:"room.name"}})],1),e._v(" "),a("b-field",{attrs:{label:"Description"}},[a("b-input",{attrs:{placeholder:"Description for the room"},model:{value:e.room.description,callback:function(t){e.room.description=t},expression:"room.description"}})],1)],1),e._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v("Close")]),e._v(" "),a("button",{staticClass:"button is-primary"},[e._v("Save")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){t.preventDefault(),e.registerModule(t)}}},[a("div",{staticClass:"modal-card"},[e._m(0),e._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"Identifier",type:e.fieldType,message:e.getIdentifierMessage()}},[a("b-input",{attrs:{placeholder:"Identifier",maxlength:"8",icon:"magnify",loading:e.loadingModule},on:{input:e.checkModuleIsValid},model:{value:e.module.identifier,callback:function(t){e.module.identifier=t},expression:"module.identifier"}})],1),e._v(" "),a("b-field",{attrs:{label:"Name"}},[a("b-input",{attrs:{disabled:!e.isModuleValid,placeholder:"Name of the module",required:""},model:{value:e.module.name,callback:function(t){e.module.name=t},expression:"module.name"}})],1),e._v(" "),a("b-field",{attrs:{label:"Room"}},[a("b-autocomplete",{attrs:{placeholder:"Room for the module",data:this.rooms,field:"name",required:"",disabled:!e.isModuleValid},on:{select:function(t){return e.module.room=t?t.id:""}},model:{value:e.module.roomName,callback:function(t){e.module.roomName=t},expression:"module.roomName"}})],1)],1),e._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v("Close")]),e._v(" "),a("button",{staticClass:"button is-primary",attrs:{disabled:!e.isModuleValid}},[e._v("Register")])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Add a module")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){t.preventDefault(),e.addAssociate(t)}}},[a("div",{staticClass:"modal-card"},[e._m(0),e._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"Username"}},[a("b-input",{attrs:{placeholder:"Username",required:""},model:{value:e.associate.username,callback:function(t){e.associate.username=t},expression:"associate.username"}})],1),e._v(" "),a("b-field",{attrs:{label:"Email"}},[a("b-input",{attrs:{placeholder:"Email",required:""},model:{value:e.associate.email,callback:function(t){e.associate.email=t},expression:"associate.email"}})],1),e._v(" "),a("b-field",{attrs:{label:"First Name"}},[a("b-input",{attrs:{placeholder:"First Name",required:""},model:{value:e.associate.firstName,callback:function(t){e.associate.firstName=t},expression:"associate.firstName"}})],1),e._v(" "),a("b-field",{attrs:{label:"Last Name"}},[a("b-input",{attrs:{placeholder:"Last Name",required:""},model:{value:e.associate.lastName,callback:function(t){e.associate.lastName=t},expression:"associate.lastName"}})],1),e._v(" "),a("b-field",{attrs:{label:"Password"}},[a("b-input",{attrs:{required:"",type:"password",placeholder:"Your password","password-reveal":""},model:{value:e.associate.password,callback:function(t){e.associate.password=t},expression:"associate.password"}})],1),e._v(" "),a("b-field",{attrs:{label:"Confirmation"}},[a("b-input",{attrs:{required:"",type:"password",placeholder:"Confirm your password","password-reveal":""},model:{value:e.associate.confirmation,callback:function(t){e.associate.confirmation=t},expression:"associate.confirmation"}})],1)],1),e._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v("Close")]),e._v(" "),a("button",{staticClass:"button is-primary"},[e._v("Add")])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Add a associate")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"login-view"}},[a("h1",{staticClass:"title"},[e._v("Luna")]),e._v(" "),a("p",{staticClass:"subtitle"},[e._v("\n    Access your account\n  ")]),e._v(" "),a("b-notification",{attrs:{active:e.loginError,type:"is-danger"},on:{"update:active":function(t){e.loginError=t}}},[e._v("\n    Unable to log in with provided credentials\n  ")]),e._v(" "),a("form",{on:{submit:function(t){t.preventDefault(),e.login(t)}}},[a("b-field",[a("b-input",{attrs:{required:"",size:"is-medium",placeholder:"Your username"},model:{value:e.form.username,callback:function(t){e.form.username=t},expression:"form.username"}})],1),e._v(" "),a("b-field",[a("b-input",{attrs:{required:"",size:"is-medium",type:"password",placeholder:"Your password","password-reveal":""},model:{value:e.form.password,callback:function(t){e.form.password=t},expression:"form.password"}})],1),e._v(" "),a("button",{staticClass:"button is-primary is-medium is-fullwidth"},[e._v("\n      Sign In\n    ")]),e._v(" "),a("div",{staticClass:"is-clearfix"}),e._v(" "),a("hr",{}),e._v(" "),a("a",{staticClass:"button is-default is-link"},[e._v("\n      Problems with your credentials?\n    ")])],1),e._v(" "),a("br"),e._v(" "),a("router-link",{staticClass:"button is-default is-link",attrs:{to:"/signup"}},[e._v("\n    Don't have an account?\n  ")]),e._v(" "),a("b-loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("header-title",{attrs:{title:"Dashboard",subtitle:"Feeling good, "+(this.user.firstName?this.user.firstName:"@"+this.user.name)+"?"}}),e._v(" "),a("div",{staticClass:"container"},e._l(e.rooms,function(e){return a("room",{key:e.id,attrs:{room:e,header:e.name,modules:e.modules}})})),e._v(" "),a("b-loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar is-primary",attrs:{role:"navigation","aria-label":"main navigation"}},[a("div",{staticClass:"navbar-brand"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[a("strong",[e._v("Luna")])])],1),e._v(" "),a("div",{staticClass:"navbar-menu"},[a("div",{staticClass:"navbar-end"},[a("a",{staticClass:"navbar-item",on:{click:e.startRecognition}},[a("b-icon",{attrs:{icon:"microphone"}})],1),e._v(" "),a("a",{staticClass:"navbar-item",on:{click:e.openNewModuleModal}},[a("b-icon",{attrs:{icon:"plus"}}),e._v(" \n        Add module\n      ")],1),e._v(" "),a("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[a("a",{staticClass:"navbar-link"},[e._v("\n          Me\n        ")]),e._v(" "),a("div",{staticClass:"navbar-dropdown is-right"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/profile"}},[e._v("\n            Profile\n          ")]),e._v(" "),this.user.isOwner?a("router-link",{staticClass:"navbar-item",attrs:{to:"/associates"}},[e._v("\n            Associates\n          ")]):e._e(),e._v(" "),a("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[e._v("\n            Settings\n          ")]),e._v(" "),a("a",{staticClass:"navbar-item",on:{click:e.logout}},[e._v("\n              Logout\n            ")])],1)])])]),e._v(" "),a("b-modal",{attrs:{active:e.isNewModuleModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isNewModuleModalActive=t}}},[a("new-module-form")],1),e._v(" "),a("b-modal",{attrs:{active:e.isEditModuleModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isEditModuleModalActive=t}}},[a("edit-module-form",{attrs:{module:Object.assign({},this.$store.state.editSelectedModule)}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{staticClass:"container",attrs:{id:"register-view"},on:{submit:function(t){t.preventDefault(),e.register(t)}}},[a("b-loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),e._v(" "),a("h1",{staticClass:"title"},[e._v("Luna")]),e._v(" "),a("p",{staticClass:"subtitle"},[e._v("\n    Create a new account\n  ")]),e._v(" "),a("b-field",[a("b-input",{attrs:{required:"",size:"is-medium",placeholder:"Enter a module identifier"},model:{value:e.form.identifier,callback:function(t){e.form.identifier=t},expression:"form.identifier"}})],1),e._v(" "),a("b-field",[a("b-input",{attrs:{required:"",size:"is-medium",placeholder:"Your username"},model:{value:e.form.username,callback:function(t){e.form.username=t},expression:"form.username"}})],1),e._v(" "),a("b-field",[a("b-input",{attrs:{required:"",size:"is-medium",placeholder:"Your email"},model:{value:e.form.email,callback:function(t){e.form.email=t},expression:"form.email"}})],1),e._v(" "),a("b-field",[a("b-input",{attrs:{required:"",size:"is-medium",type:"password",placeholder:"Your password","password-reveal":""},model:{value:e.form.password,callback:function(t){e.form.password=t},expression:"form.password"}})],1),e._v(" "),a("b-field",{attrs:{type:e.passwordMatch?"":"is-danger",message:e.passwordMatch?"":"Password does not match the confirm password."}},[a("b-input",{attrs:{required:"",size:"is-medium",type:"password",placeholder:"Confirm your password","password-reveal":""},model:{value:e.form.confirmation,callback:function(t){e.form.confirmation=t},expression:"form.confirmation"}})],1),e._v(" "),a("button",{staticClass:"button is-primary is-medium is-fullwidth"},[e._v("\n    Sign Up\n  ")]),e._v(" "),a("div",{staticClass:"is-clearfix"}),e._v(" "),a("hr",{}),e._v(" "),a("router-link",{staticClass:"button is-default is-link",attrs:{to:"/signin"}},[e._v("\n    Already have an account?\n  ")])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"card"},[a("header",{staticClass:"card-header"},[a("p",{staticClass:"card-header-title"},[e._v("\n      "+e._s(e.module.name)+"\n    ")]),e._v(" "),a("a",{staticClass:"card-header-icon",attrs:{"aria-label":"more options"},on:{click:e.openEditModuleModal}},[a("span",{staticClass:"icon"},[a("b-icon",{attrs:{icon:"pencil"}})],1)])]),e._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[a("div",{staticClass:"field"},[a("b-switch",{attrs:{size:""},model:{value:e.switchState,callback:function(t){e.switchState=t},expression:"switchState"}},[e._v(e._s(e.getText()))])],1)])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main-layout"}},[a("toolbar"),e._v(" "),a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("header-title",{attrs:{title:"Profile"}}),e._v(" "),a("div",{staticClass:"container",attrs:{id:"profile-view"}},[a("b-notification",{attrs:{active:e.updateError,type:"is-danger"},on:{"update:active":function(t){e.updateError=t}}},[e._v("\n      Something goes wrong!\n    ")]),e._v(" "),a("b-notification",{attrs:{active:e.updateSuccess,type:"is-success"},on:{"update:active":function(t){e.updateSuccess=t}}},[e._v("\n      Profile updated successfully!\n    ")]),e._v(" "),a("b-notification",{attrs:{active:!this.user.firstName,type:"is-info","has-icon":""}},[e._v("\n      Please, update your profile to get access to Luna!\n    ")]),e._v(" "),a("form",{on:{submit:function(t){t.preventDefault(),e.updateProfile(t)}}},[a("b-field",{attrs:{grouped:""}},[a("b-field",{attrs:{label:"Username",expanded:""}},[a("b-input",{attrs:{disabled:"",size:"is-medium",required:"",placeholder:"Your username"},model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),e._v(" "),a("b-field",{attrs:{label:"Email",expanded:""}},[a("b-input",{attrs:{type:"email",required:"",size:"is-medium",placeholder:"Your email"},model:{value:e.form.email,callback:function(t){e.form.email=t},expression:"form.email"}})],1)],1),e._v(" "),a("b-field",{attrs:{grouped:""}},[a("b-field",{attrs:{label:"First Name",expanded:""}},[a("b-input",{attrs:{required:"",size:"is-medium",placeholder:"Your first name"},model:{value:e.form.firstName,callback:function(t){e.form.firstName=t},expression:"form.firstName"}})],1),e._v(" "),a("b-field",{attrs:{label:"Last Name",expanded:""}},[a("b-input",{attrs:{required:"",size:"is-medium",placeholder:"Your last name"},model:{value:e.form.lastName,callback:function(t){e.form.lastName=t},expression:"form.lastName"}})],1)],1),e._v(" "),a("button",{staticClass:"button is-primary is-medium",attrs:{type:"submit"}},[e._v("\n        Update Profile\n      ")])],1),e._v(" "),a("br"),e._v(" "),a("b-loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}})],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("header-title",{attrs:{title:"Associates",subtitle:"Manage your associates users"}}),e._v(" "),a("div",{staticClass:"container"},[a("associates-table",{attrs:{associates:e.associates}}),e._v(" "),a("a",{staticClass:"button is-primary",on:{click:e.openNewAssociateModal}},[e._v("New Associate")])],1),e._v(" "),a("b-loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),e._v(" "),a("b-modal",{attrs:{active:e.isNewAssociateModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isNewAssociateModalActive=t}}},[a("new-associate-form")],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"header-title"}},[a("h2",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),a("p",{staticClass:"subtitle"},[e._v("\n      "+e._s(e.subtitle)+"\n  ")]),e._v(" "),a("hr")])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{on:{submit:function(t){t.preventDefault(),e.editModule(t)}}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[e._v("Edit "+e._s(e.module.name))])]),e._v(" "),a("section",{staticClass:"modal-card-body"},[a("b-field",{attrs:{label:"Identifier",type:e.fieldType}},[a("b-input",{attrs:{placeholder:"Identifier",maxlength:"8",disabled:""},model:{value:e.module.identifier,callback:function(t){e.module.identifier=t},expression:"module.identifier"}})],1),e._v(" "),a("b-field",{attrs:{label:"Name"}},[a("b-input",{attrs:{placeholder:"Name of the module",required:""},model:{value:e.module.name,callback:function(t){e.module.name=t},expression:"module.name"}})],1),e._v(" "),a("b-field",{attrs:{label:"Room"}},[a("b-autocomplete",{attrs:{placeholder:"Room for the module",data:this.rooms,field:"name",required:""},on:{select:function(t){return e.module.room=t?t.id:""}},model:{value:e.roomName,callback:function(t){e.roomName=t},expression:"roomName"}})],1)],1),e._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){e.$parent.close()}}},[e._v("Close")]),e._v(" "),a("button",{staticClass:"button is-primary"},[e._v("Save")])])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("b-collapse",{staticClass:"card",attrs:{open:e.isOpen},on:{"update:open":function(t){e.isOpen=t}}},[a("div",{staticClass:"card-header",attrs:{slot:"trigger"},slot:"trigger"},[a("p",{staticClass:"card-header-title",attrs:{title:e.room.description}},[e._v("\n        "+e._s(e.room.name)+" \n        "),a("a",{on:{click:e.openEditRoomModal}},[e._v("edit")])]),e._v(" "),a("a",{staticClass:"card-header-icon"},[a("b-icon",{attrs:{icon:e.isOpen?"menu-down":"menu-up"}})],1)]),e._v(" "),a("div",{staticClass:"panel-block"},[a("div",{staticClass:"columns is-multiline"},e._l(e.room.modules,function(e,t){return a("div",{key:e.title,staticClass:"column is-one-quarter"},[a("module-card",{attrs:{module:e}})],1)}))])]),e._v(" "),a("b-modal",{attrs:{active:e.isEditRoomModalActive,"has-modal-card":""},on:{"update:active":function(t){e.isEditRoomModalActive=t}}},[a("edit-room-form",{attrs:{room:Object.assign({},e.room)}})],1)],1)},staticRenderFns:[]}}],[83]);
//# sourceMappingURL=app.50128efea9322e389354.js.map